(this["webpackJsonpchuyenpn-mock-project"]=this["webpackJsonpchuyenpn-mock-project"]||[]).push([[4],{74:function(e,t,s){"use strict";s.r(t),s.d(t,"AuthRoutes",(function(){return S}));var r=s(2),c=s(0),a=s(13),n=s.p+"static/media/logo.6ce24c58.svg",i=s(8),o=s(35),l=s(1),d=function(e){var t=e.children,s=e.title;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.a,{title:s}),Object(l.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(l.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(l.jsx)("div",{className:"flex justify-center",children:Object(l.jsx)(i.b,{className:"flex items-center text-white",to:"/",children:Object(l.jsx)("img",{className:"h-24 w-auto",src:n,alt:"Workflow"})})}),Object(l.jsx)("h2",{className:"mt-3 text-center text-3xl font-extrabold text-gray-900",children:s})]}),Object(l.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(l.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:t})})]})]})},m=s(5),j=s.n(m),u=s(14),b=s(72),x=s(9),h=s(73),p=s(6),O=s(71),f=function(e){var t=e.onSubmit,s=e.children,r=e.className,c=e.options,a=e.id,n=e.schema,i=Object(O.d)(Object(x.a)(Object(x.a)({},c),{},{resolver:n&&Object(h.a)(n)}));return Object(l.jsx)("form",{className:Object(p.a)("space-y-6",r),onSubmit:i.handleSubmit(t),id:a,children:s(i)})},g=function(e){var t=e.label,s=e.className,r=e.error,c=e.children;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{className:Object(p.a)("block text-sm font-medium text-gray-700",s),children:[t,Object(l.jsx)("div",{className:"mt-1",children:c})]}),(null===r||void 0===r?void 0:r.message)&&Object(l.jsx)("div",{role:"alert","aria-label":r.message,className:"text-sm font-semibold text-red-500",children:r.message})]})},v=function(e){var t=e.type,s=void 0===t?"text":t,r=e.label,c=e.className,a=e.registration,n=e.error;return Object(l.jsx)(g,{label:r,error:n,children:Object(l.jsx)("input",Object(x.a)({type:s,className:Object(p.a)("appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",c)},a))})},w=s(19),y=b.a({username:b.b().min(1,"Required"),password:b.b().min(1,"Required")}),N=function(e){var t=e.onSuccess,s=Object(a.a)(),r=s.login,c=s.isLoading,n=Object(w.a)().addNotification,o=function(){var e=Object(u.a)(j.a.mark((function e(s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(s.username,s.password);case 3:t(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n({type:"error",title:"Error",message:"Invalid username or password"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{children:Object(l.jsx)(f,{onSubmit:o,schema:y,children:function(e){var t=e.register,s=e.formState;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v,{type:"text",label:"Username",error:s.errors.username,registration:t("username")}),Object(l.jsx)(v,{type:"password",label:"Password",error:s.errors.password,registration:t("password")}),Object(l.jsx)("div",{children:Object(l.jsx)(i.a,{isLoading:c,type:"submit",className:"w-full",children:"Log in"})})]})}})})},k=function(){var e=Object(r.h)(),t=Object(a.a)().isLoggedIn;return Object(c.useEffect)((function(){e(t?"/images":"/auth/login")}),[t,e]),Object(l.jsx)(d,{title:"Log in to your account",children:Object(l.jsx)(N,{onSuccess:function(){return e("/images")}})})},S=function(){return Object(l.jsx)(r.d,{children:Object(l.jsx)(r.b,{path:"login",element:Object(l.jsx)(k,{})})})}}}]);
//# sourceMappingURL=4.38876b69.chunk.js.map